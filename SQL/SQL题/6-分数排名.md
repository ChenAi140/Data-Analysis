# 分数排名 - 并列、连续

## 一、题目

### 1. 表结构
表`Scores`
```
+-------------+---------+
| Column Name | Type    |
+-------------+---------+
| id          | int     |
| score       | decimal |
+-------------+---------+
Id是该表的主键。
该表的每一行都包含了一场比赛的分数。Score是一个有两位小数点的浮点值。
```


### 2. 题目描述
&emsp;&emsp;编写 SQL 查询对分数进行排序。排名按以下规则计算:

- 分数应按从高到低排列。
- 如果两个分数相等，那么两个分数的排名应该相同。
- 在排名相同的分数后，排名数应该是下一个连续的整数。换句话说，排名之间不应该有空缺的数字。

&emsp;&emsp;按 score 降序返回结果表。




## 二、示例

### 1. 示例1
```
输入: 
Scores 表:
+----+-------+
| id | score |
+----+-------+
| 1  | 3.50  |
| 2  | 3.65  |
| 3  | 4.00  |
| 4  | 3.85  |
| 5  | 4.00  |
| 6  | 3.65  |
+----+-------+
输出: 
+-------+------+
| score | rank |
+-------+------+
| 4.00  | 1    |
| 4.00  | 1    |
| 3.85  | 2    |
| 3.65  | 3    |
| 3.65  | 3    |
| 3.50  | 4    |
+-------+------+
```




## 三、解答SQL

### 1. 方法1
&emsp;&emsp;窗口函数dense_rank()：数值相同排名相同，排序序号连续
```sql
SELECT
    score,
    dense_rank() over(
        order by score desc
    ) AS "rank"
FROM Scores;
```



